<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Leaf blocks | CommonMark Spec</title>
    <meta name="description" content="">
    <link rel="icon" href="/commonmark-vuepress/logo.png">
    
    <link rel="preload" href="/commonmark-vuepress/assets/css/0.styles.a10e70b6.css" as="style"><link rel="preload" href="/commonmark-vuepress/assets/js/app.66e8c4d4.js" as="script"><link rel="preload" href="/commonmark-vuepress/assets/js/7.accca9e3.js" as="script"><link rel="prefetch" href="/commonmark-vuepress/assets/js/5.56fac433.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/3.0f7c7ffe.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/4.b69c7f9c.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/6.11117854.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/8.64a5eca8.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/9.9a3e5730.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/10.c4ec4b3d.js"><link rel="prefetch" href="/commonmark-vuepress/assets/js/11.d4500ffb.js">
    <link rel="stylesheet" href="/commonmark-vuepress/assets/css/0.styles.a10e70b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/commonmark-vuepress/" class="home-link router-link-active"><!----> <span class="site-name">CommonMark Spec</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://spec.commonmark.org/0.28/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Original Site
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/commonmark/CommonMark" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Original Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/yangjunjun/commonmark-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://spec.commonmark.org/0.28/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Original Site
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/commonmark/CommonMark" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Original Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/yangjunjun/commonmark-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/commonmark-vuepress/" class="sidebar-link">0 Home</a></li><li><a href="/commonmark-vuepress/1.Introduction.html" class="sidebar-link">1 Introduction</a></li><li><a href="/commonmark-vuepress/2.Preliminaries.html" class="sidebar-link">2 Preliminaries</a></li><li><a href="/commonmark-vuepress/3.Blocks_and_inlines.html" class="sidebar-link">3 Blocks and inlines</a></li><li><a href="/commonmark-vuepress/4.Leaf_blocks.html" class="active sidebar-link">4 Leaf blocks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#thematic-breaks" class="sidebar-link">Thematic breaks</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#atx-headings" class="sidebar-link">ATX headings</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#setext-headings" class="sidebar-link">Setext headings</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#indented-code-blocks" class="sidebar-link">Indented code blocks</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#fenced-code-blocks" class="sidebar-link">Fenced code blocks</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#html-blocks" class="sidebar-link">HTML blocks</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#link-reference-definitions" class="sidebar-link">Link reference definitions</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#paragraphs" class="sidebar-link">Paragraphs</a></li><li class="sidebar-sub-header"><a href="/commonmark-vuepress/4.Leaf_blocks.html#blank-lines" class="sidebar-link">Blank lines</a></li></ul></li><li><a href="/commonmark-vuepress/5.Container_blocks.html" class="sidebar-link">5 Container blocks</a></li><li><a href="/commonmark-vuepress/6.Inlines.html" class="sidebar-link">6 Inlines</a></li><li><a href="/commonmark-vuepress/7.Appendix_A_parsing_strategy.html" class="sidebar-link">Appendix: A parsing strategy</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="leaf-blocks"><a href="#leaf-blocks" aria-hidden="true" class="header-anchor">#</a> Leaf blocks</h1> <p>This section describes the different kinds of leaf block that make up a
Markdown document.</p> <h2 id="thematic-breaks"><a href="#thematic-breaks" aria-hidden="true" class="header-anchor">#</a> Thematic breaks</h2> <p>A line consisting of 0-3 spaces of indentation, followed by a sequence
of three or more matching <code>-</code>, <code>_</code>, or <code>*</code> characters, each followed
optionally by any number of spaces or tabs, forms a
<a href="@">thematic break</a>.</p> <div class="language-example extra-class"><pre class="language-text"><code>***
---
___
.
&lt;hr /&gt;
&lt;hr /&gt;
&lt;hr /&gt;
</code></pre></div><p>Wrong characters:</p> <div class="language-example extra-class"><pre class="language-text"><code>+++
.
&lt;p&gt;+++&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>===
.
&lt;p&gt;===&lt;/p&gt;
</code></pre></div><p>Not enough characters:</p> <div class="language-example extra-class"><pre class="language-text"><code>--
**
__
.
&lt;p&gt;--
**
__&lt;/p&gt;
</code></pre></div><p>One to three spaces indent are allowed:</p> <div class="language-example extra-class"><pre class="language-text"><code> ***
  ***
   ***
.
&lt;hr /&gt;
&lt;hr /&gt;
&lt;hr /&gt;
</code></pre></div><p>Four spaces is too many:</p> <div class="language-example extra-class"><pre class="language-text"><code>    ***
.
&lt;pre&gt;&lt;code&gt;***
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>Foo
    ***
.
&lt;p&gt;Foo
***&lt;/p&gt;
</code></pre></div><p>More than three characters may be used:</p> <div class="language-example extra-class"><pre class="language-text"><code>_____________________________________
.
&lt;hr /&gt;
</code></pre></div><p>Spaces are allowed between the characters:</p> <div class="language-example extra-class"><pre class="language-text"><code> - - -
.
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code> **  * ** * ** * **
.
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>-     -      -      -
.
&lt;hr /&gt;
</code></pre></div><p>Spaces are allowed at the end:</p> <div class="language-example extra-class"><pre class="language-text"><code>- - - -    
.
&lt;hr /&gt;
</code></pre></div><p>However, no other characters may occur in the line:</p> <div class="language-example extra-class"><pre class="language-text"><code>_ _ _ _ a

a------

---a---
.
&lt;p&gt;_ _ _ _ a&lt;/p&gt;
&lt;p&gt;a------&lt;/p&gt;
&lt;p&gt;---a---&lt;/p&gt;
</code></pre></div><p>It is required that all of the [non-whitespace characters] be the same.
So, this is not a thematic break:</p> <div class="language-example extra-class"><pre class="language-text"><code> *-*
.
&lt;p&gt;&lt;em&gt;-&lt;/em&gt;&lt;/p&gt;
</code></pre></div><p>Thematic breaks do not need blank lines before or after:</p> <div class="language-example extra-class"><pre class="language-text"><code>- foo
***
- bar
.
&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><p>Thematic breaks can interrupt a paragraph:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
***
bar
.
&lt;p&gt;Foo&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre></div><p>If a line of dashes that meets the above conditions for being a
thematic break could also be interpreted as the underline of a [setext
heading], the interpretation as a
[setext heading] takes precedence. Thus, for example,
this is a setext heading, not a paragraph followed by a thematic break:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
---
bar
.
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre></div><p>When both a thematic break and a list item are possible
interpretations of a line, the thematic break takes precedence:</p> <div class="language-example extra-class"><pre class="language-text"><code>* Foo
* * *
* Bar
.
&lt;ul&gt;
&lt;li&gt;Foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;ul&gt;
&lt;li&gt;Bar&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><p>If you want a thematic break in a list item, use a different bullet:</p> <div class="language-example extra-class"><pre class="language-text"><code>- Foo
- * * *
.
&lt;ul&gt;
&lt;li&gt;Foo&lt;/li&gt;
&lt;li&gt;
&lt;hr /&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><h2 id="atx-headings"><a href="#atx-headings" aria-hidden="true" class="header-anchor">#</a> ATX headings</h2> <p>An <a href="@">ATX heading</a>
consists of a string of characters, parsed as inline content, between an
opening sequence of 1--6 unescaped <code>#</code> characters and an optional
closing sequence of any number of unescaped <code>#</code> characters.
The opening sequence of <code>#</code> characters must be followed by a
[space] or by the end of line. The optional closing sequence of <code>#</code>s must be
preceded by a [space] and may be followed by spaces only.  The opening
<code>#</code> character may be indented 0-3 spaces.  The raw contents of the
heading are stripped of leading and trailing spaces before being parsed
as inline content.  The heading level is equal to the number of <code>#</code>
characters in the opening sequence.</p> <p>Simple headings:</p> <div class="language-example extra-class"><pre class="language-text"><code># foo
## foo
### foo
#### foo
##### foo
###### foo
.
&lt;h1&gt;foo&lt;/h1&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;h3&gt;foo&lt;/h3&gt;
&lt;h4&gt;foo&lt;/h4&gt;
&lt;h5&gt;foo&lt;/h5&gt;
&lt;h6&gt;foo&lt;/h6&gt;
</code></pre></div><p>More than six <code>#</code> characters is not a heading:</p> <div class="language-example extra-class"><pre class="language-text"><code>####### foo
.
&lt;p&gt;####### foo&lt;/p&gt;
</code></pre></div><p>At least one space is required between the <code>#</code> characters and the
heading's contents, unless the heading is empty.  Note that many
implementations currently do not require the space.  However, the
space was required by the
<a href="http://www.aaronsw.com/2002/atx/atx.py" target="_blank" rel="noopener noreferrer">original ATX implementation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
and it helps prevent things like the following from being parsed as
headings:</p> <div class="language-example extra-class"><pre class="language-text"><code>#5 bolt

#hashtag
.
&lt;p&gt;#5 bolt&lt;/p&gt;
&lt;p&gt;#hashtag&lt;/p&gt;
</code></pre></div><p>This is not a heading, because the first <code>#</code> is escaped:</p> <div class="language-example extra-class"><pre class="language-text"><code>\## foo
.
&lt;p&gt;## foo&lt;/p&gt;
</code></pre></div><p>Contents are parsed as inlines:</p> <div class="language-example extra-class"><pre class="language-text"><code># foo *bar* \*baz\*
.
&lt;h1&gt;foo &lt;em&gt;bar&lt;/em&gt; *baz*&lt;/h1&gt;
</code></pre></div><p>Leading and trailing blanks are ignored in parsing inline content:</p> <div class="language-example extra-class"><pre class="language-text"><code>#                  foo                     
.
&lt;h1&gt;foo&lt;/h1&gt;
</code></pre></div><p>One to three spaces indentation are allowed:</p> <div class="language-example extra-class"><pre class="language-text"><code> ### foo
  ## foo
   # foo
.
&lt;h3&gt;foo&lt;/h3&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;h1&gt;foo&lt;/h1&gt;
</code></pre></div><p>Four spaces are too much:</p> <div class="language-example extra-class"><pre class="language-text"><code>    # foo
.
&lt;pre&gt;&lt;code&gt;# foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>foo
    # bar
.
&lt;p&gt;foo
# bar&lt;/p&gt;
</code></pre></div><p>A closing sequence of <code>#</code> characters is optional:</p> <div class="language-example extra-class"><pre class="language-text"><code>## foo ##
  ###   bar    ###
.
&lt;h2&gt;foo&lt;/h2&gt;
&lt;h3&gt;bar&lt;/h3&gt;
</code></pre></div><p>It need not be the same length as the opening sequence:</p> <div class="language-example extra-class"><pre class="language-text"><code># foo ##################################
##### foo ##
.
&lt;h1&gt;foo&lt;/h1&gt;
&lt;h5&gt;foo&lt;/h5&gt;
</code></pre></div><p>Spaces are allowed after the closing sequence:</p> <div class="language-example extra-class"><pre class="language-text"><code>### foo ###     
.
&lt;h3&gt;foo&lt;/h3&gt;
</code></pre></div><p>A sequence of <code>#</code> characters with anything but [spaces] following it
is not a closing sequence, but counts as part of the contents of the
heading:</p> <div class="language-example extra-class"><pre class="language-text"><code>### foo ### b
.
&lt;h3&gt;foo ### b&lt;/h3&gt;
</code></pre></div><p>The closing sequence must be preceded by a space:</p> <div class="language-example extra-class"><pre class="language-text"><code># foo#
.
&lt;h1&gt;foo#&lt;/h1&gt;
</code></pre></div><p>Backslash-escaped <code>#</code> characters do not count as part
of the closing sequence:</p> <div class="language-example extra-class"><pre class="language-text"><code>### foo \###
## foo #\##
# foo \#
.
&lt;h3&gt;foo ###&lt;/h3&gt;
&lt;h2&gt;foo ###&lt;/h2&gt;
&lt;h1&gt;foo #&lt;/h1&gt;
</code></pre></div><p>ATX headings need not be separated from surrounding content by blank
lines, and they can interrupt paragraphs:</p> <div class="language-example extra-class"><pre class="language-text"><code>****
## foo
****
.
&lt;hr /&gt;
&lt;h2&gt;foo&lt;/h2&gt;
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>Foo bar
# baz
Bar foo
.
&lt;p&gt;Foo bar&lt;/p&gt;
&lt;h1&gt;baz&lt;/h1&gt;
&lt;p&gt;Bar foo&lt;/p&gt;
</code></pre></div><p>ATX headings can be empty:</p> <div class="language-example extra-class"><pre class="language-text"><code>## 
#
### ###
.
&lt;h2&gt;&lt;/h2&gt;
&lt;h1&gt;&lt;/h1&gt;
&lt;h3&gt;&lt;/h3&gt;
</code></pre></div><h2 id="setext-headings"><a href="#setext-headings" aria-hidden="true" class="header-anchor">#</a> Setext headings</h2> <p>A <a href="@">setext heading</a> consists of one or more
lines of text, each containing at least one [non-whitespace
character], with no more than 3 spaces indentation, followed by
a [setext heading underline].  The lines of text must be such
that, were they not followed by the setext heading underline,
they would be interpreted as a paragraph:  they cannot be
interpretable as a [code fence], [ATX heading][ATX headings],
[block quote][block quotes], [thematic break][thematic breaks],
[list item][list items], or [HTML block][HTML blocks].</p> <p>A <a href="@">setext heading underline</a> is a sequence of
<code>=</code> characters or a sequence of <code>-</code> characters, with no more than 3
spaces indentation and any number of trailing spaces.  If a line
containing a single <code>-</code> can be interpreted as an
empty [list items], it should be interpreted this way
and not as a [setext heading underline].</p> <p>The heading is a level 1 heading if <code>=</code> characters are used in
the [setext heading underline], and a level 2 heading if <code>-</code>
characters are used.  The contents of the heading are the result
of parsing the preceding lines of text as CommonMark inline
content.</p> <p>In general, a setext heading need not be preceded or followed by a
blank line.  However, it cannot interrupt a paragraph, so when a
setext heading comes after a paragraph, a blank line is needed between
them.</p> <p>Simple examples:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo *bar*
=========

Foo *bar*
---------
.
&lt;h1&gt;Foo &lt;em&gt;bar&lt;/em&gt;&lt;/h1&gt;
&lt;h2&gt;Foo &lt;em&gt;bar&lt;/em&gt;&lt;/h2&gt;
</code></pre></div><p>The content of the header may span more than one line:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo *bar
baz*
====
.
&lt;h1&gt;Foo &lt;em&gt;bar
baz&lt;/em&gt;&lt;/h1&gt;
</code></pre></div><p>The underlining can be any length:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
-------------------------

Foo
=
.
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
</code></pre></div><p>The heading content can be indented up to three spaces, and need
not line up with the underlining:</p> <div class="language-example extra-class"><pre class="language-text"><code>   Foo
---

  Foo
-----

  Foo
  ===
.
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h1&gt;Foo&lt;/h1&gt;
</code></pre></div><p>Four spaces indent is too much:</p> <div class="language-example extra-class"><pre class="language-text"><code>    Foo
    ---

    Foo
---
.
&lt;pre&gt;&lt;code&gt;Foo
---

Foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
</code></pre></div><p>The setext heading underline can be indented up to three spaces, and
may have trailing spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
   ----      
.
&lt;h2&gt;Foo&lt;/h2&gt;
</code></pre></div><p>Four spaces is too much:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
    ---
.
&lt;p&gt;Foo
---&lt;/p&gt;
</code></pre></div><p>The setext heading underline cannot contain internal spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
= =

Foo
--- -
.
&lt;p&gt;Foo
= =&lt;/p&gt;
&lt;p&gt;Foo&lt;/p&gt;
&lt;hr /&gt;
</code></pre></div><p>Trailing spaces in the content line do not cause a line break:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo  
-----
.
&lt;h2&gt;Foo&lt;/h2&gt;
</code></pre></div><p>Nor does a backslash at the end:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo\
----
.
&lt;h2&gt;Foo\&lt;/h2&gt;
</code></pre></div><p>Since indicators of block structure take precedence over
indicators of inline structure, the following are setext headings:</p> <div class="language-example extra-class"><pre class="language-text"><code>`Foo
----
`

&lt;a title=&quot;a lot
---
of dashes&quot;/&gt;
.
&lt;h2&gt;`Foo&lt;/h2&gt;
&lt;p&gt;`&lt;/p&gt;
&lt;h2&gt;&amp;lt;a title=&amp;quot;a lot&lt;/h2&gt;
&lt;p&gt;of dashes&amp;quot;/&amp;gt;&lt;/p&gt;
</code></pre></div><p>The setext heading underline cannot be a [lazy continuation
line] in a list item or block quote:</p> <div class="language-example extra-class"><pre class="language-text"><code>&gt; Foo
---
.
&lt;blockquote&gt;
&lt;p&gt;Foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&gt; foo
bar
===
.
&lt;blockquote&gt;
&lt;p&gt;foo
bar
===&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>- Foo
---
.
&lt;ul&gt;
&lt;li&gt;Foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
</code></pre></div><p>A blank line is needed between a paragraph and a following
setext heading, since otherwise the paragraph becomes part
of the heading's content:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
Bar
---
.
&lt;h2&gt;Foo
Bar&lt;/h2&gt;
</code></pre></div><p>But in general a blank line is not required before or after
setext headings:</p> <div class="language-example extra-class"><pre class="language-text"><code>---
Foo
---
Bar
---
Baz
.
&lt;hr /&gt;
&lt;h2&gt;Foo&lt;/h2&gt;
&lt;h2&gt;Bar&lt;/h2&gt;
&lt;p&gt;Baz&lt;/p&gt;
</code></pre></div><p>Setext headings cannot be empty:</p> <div class="language-example extra-class"><pre class="language-text"><code>
====
.
&lt;p&gt;====&lt;/p&gt;
</code></pre></div><p>Setext heading text lines must not be interpretable as block
constructs other than paragraphs.  So, the line of dashes
in these examples gets interpreted as a thematic break:</p> <div class="language-example extra-class"><pre class="language-text"><code>---
---
.
&lt;hr /&gt;
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>- foo
-----
.
&lt;ul&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>    foo
---
.
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&gt; foo
-----
.
&lt;blockquote&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
</code></pre></div><p>If you want a heading with <code>&gt; foo</code> as its literal text, you can
use backslash escapes:</p> <div class="language-example extra-class"><pre class="language-text"><code>\&gt; foo
------
.
&lt;h2&gt;&amp;gt; foo&lt;/h2&gt;
</code></pre></div><p><strong>Compatibility note:</strong>  Most existing Markdown implementations
do not allow the text of setext headings to span multiple lines.
But there is no consensus about how to interpret</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>Foo
<span class="token title important">bar
<span class="token punctuation">---</span></span>
baz
</code></pre></div><p>One can find four different interpretations:</p> <ol><li>paragraph &quot;Foo&quot;, heading &quot;bar&quot;, paragraph &quot;baz&quot;</li> <li>paragraph &quot;Foo bar&quot;, thematic break, paragraph &quot;baz&quot;</li> <li>paragraph &quot;Foo bar --- baz&quot;</li> <li>heading &quot;Foo bar&quot;, paragraph &quot;baz&quot;</li></ol> <p>We find interpretation 4 most natural, and interpretation 4
increases the expressive power of CommonMark, by allowing
multiline headings.  Authors who want interpretation 1 can
put a blank line after the first paragraph:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo

bar
---
baz
.
&lt;p&gt;Foo&lt;/p&gt;
&lt;h2&gt;bar&lt;/h2&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre></div><p>Authors who want interpretation 2 can put blank lines around
the thematic break,</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
bar

---

baz
.
&lt;p&gt;Foo
bar&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre></div><p>or use a thematic break that cannot count as a [setext heading
underline], such as</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
bar
* * *
baz
.
&lt;p&gt;Foo
bar&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre></div><p>Authors who want interpretation 3 can use backslash escapes:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
bar
\---
baz
.
&lt;p&gt;Foo
bar
---
baz&lt;/p&gt;
</code></pre></div><h2 id="indented-code-blocks"><a href="#indented-code-blocks" aria-hidden="true" class="header-anchor">#</a> Indented code blocks</h2> <p>An <a href="@">indented code block</a> is composed of one or more
[indented chunks] separated by blank lines.
An <a href="@">indented chunk</a> is a sequence of non-blank lines,
each indented four or more spaces. The contents of the code block are
the literal contents of the lines, including trailing
[line endings], minus four spaces of indentation.
An indented code block has no [info string].</p> <p>An indented code block cannot interrupt a paragraph, so there must be
a blank line between a paragraph and a following indented code block.
(A blank line is not needed, however, between a code block and a following
paragraph.)</p> <div class="language-example extra-class"><pre class="language-text"><code>    a simple
      indented code block
.
&lt;pre&gt;&lt;code&gt;a simple
  indented code block
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>If there is any ambiguity between an interpretation of indentation
as a code block and as indicating that material belongs to a [list
item][list items], the list item interpretation takes precedence:</p> <div class="language-example extra-class"><pre class="language-text"><code>  - foo

    bar
.
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>1.  foo

    - bar
.
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;foo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bar&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
</code></pre></div><p>The contents of a code block are literal text, and do not get parsed
as Markdown:</p> <div class="language-example extra-class"><pre class="language-text"><code>    &lt;a/&gt;
    *hi*

    - one
.
&lt;pre&gt;&lt;code&gt;&amp;lt;a/&amp;gt;
*hi*

- one
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Here we have three chunks separated by blank lines:</p> <div class="language-example extra-class"><pre class="language-text"><code>    chunk1

    chunk2
  
 
 
    chunk3
.
&lt;pre&gt;&lt;code&gt;chunk1

chunk2



chunk3
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Any initial spaces beyond four will be included in the content, even
in interior blank lines:</p> <div class="language-example extra-class"><pre class="language-text"><code>    chunk1
      
      chunk2
.
&lt;pre&gt;&lt;code&gt;chunk1
  
  chunk2
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>An indented code block cannot interrupt a paragraph.  (This
allows hanging indents and the like.)</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
    bar

.
&lt;p&gt;Foo
bar&lt;/p&gt;
</code></pre></div><p>However, any non-blank line with fewer than four leading spaces ends
the code block immediately.  So a paragraph may occur immediately
after indented code:</p> <div class="language-example extra-class"><pre class="language-text"><code>    foo
bar
.
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre></div><p>And indented code can occur immediately before and after other kinds of
blocks:</p> <div class="language-example extra-class"><pre class="language-text"><code># Heading
    foo
Heading
------
    foo
----
.
&lt;h1&gt;Heading&lt;/h1&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Heading&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
</code></pre></div><p>The first line can be indented more than four spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>        foo
    bar
.
&lt;pre&gt;&lt;code&gt;    foo
bar
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Blank lines preceding or following an indented code block
are not included in it:</p> <div class="language-example extra-class"><pre class="language-text"><code>
    
    foo
    

.
&lt;pre&gt;&lt;code&gt;foo
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Trailing spaces are included in the code block's content:</p> <div class="language-example extra-class"><pre class="language-text"><code>    foo  
.
&lt;pre&gt;&lt;code&gt;foo  
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><h2 id="fenced-code-blocks"><a href="#fenced-code-blocks" aria-hidden="true" class="header-anchor">#</a> Fenced code blocks</h2> <p>A <a href="@">code fence</a> is a sequence
of at least three consecutive backtick characters (<code>`</code>) or
tildes (<code>~</code>).  (Tildes and backticks cannot be mixed.)
A <a href="@">fenced code block</a>
begins with a code fence, indented no more than three spaces.</p> <p>The line with the opening code fence may optionally contain some text
following the code fence; this is trimmed of leading and trailing
whitespace and called the <a href="@">info string</a>.
The [info string] may not contain any backtick
characters.  (The reason for this restriction is that otherwise
some inline code would be incorrectly interpreted as the
beginning of a fenced code block.)</p> <p>The content of the code block consists of all subsequent lines, until
a closing [code fence] of the same type as the code block
began with (backticks or tildes), and with at least as many backticks
or tildes as the opening code fence.  If the leading code fence is
indented N spaces, then up to N spaces of indentation are removed from
each line of the content (if present).  (If a content line is not
indented, it is preserved unchanged.  If it is indented less than N
spaces, all of the indentation is removed.)</p> <p>The closing code fence may be indented up to three spaces, and may be
followed only by spaces, which are ignored.  If the end of the
containing block (or document) is reached and no closing code fence
has been found, the code block contains all of the lines after the
opening code fence until the end of the containing block (or
document).  (An alternative spec would require backtracking in the
event that a closing code fence is not found.  But this makes parsing
much less efficient, and there seems to be no real down side to the
behavior described here.)</p> <p>A fenced code block may interrupt a paragraph, and does not require
a blank line either before or after.</p> <p>The content of a code fence is treated as literal text, not parsed
as inlines.  The first word of the [info string] is typically used to
specify the language of the code sample, and rendered in the <code>class</code>
attribute of the <code>code</code> tag.  However, this spec does not mandate any
particular treatment of the [info string].</p> <p>Here is a simple example with backticks:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
&lt;
 &gt;
```
.
&lt;pre&gt;&lt;code&gt;&amp;lt;
 &amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>With tildes:</p> <div class="language-example extra-class"><pre class="language-text"><code>~~~
&lt;
 &gt;
~~~
.
&lt;pre&gt;&lt;code&gt;&amp;lt;
 &amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Fewer than three backticks is not enough:</p> <div class="language-example extra-class"><pre class="language-text"><code>``
foo
``
.
&lt;p&gt;&lt;code&gt;foo&lt;/code&gt;&lt;/p&gt;
</code></pre></div><p>The closing code fence must use the same character as the opening
fence:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
aaa
~~~
```
.
&lt;pre&gt;&lt;code&gt;aaa
~~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>~~~
aaa
```
~~~
.
&lt;pre&gt;&lt;code&gt;aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>The closing code fence must be at least as long as the opening fence:</p> <div class="language-example extra-class"><pre class="language-text"><code>````
aaa
```
``````
.
&lt;pre&gt;&lt;code&gt;aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>~~~~
aaa
~~~
~~~~
.
&lt;pre&gt;&lt;code&gt;aaa
~~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Unclosed code blocks are closed by the end of the document
(or the enclosing [block quote][block quotes] or [list item][list items]):</p> <div class="language-example extra-class"><pre class="language-text"><code>```
.
&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>`````

```
aaa
.
&lt;pre&gt;&lt;code&gt;
```
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&gt; ```
&gt; aaa

bbb
.
&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre></div><p>A code block can have all empty lines as its content:</p> <div class="language-example extra-class"><pre class="language-text"><code>```

  
```
.
&lt;pre&gt;&lt;code&gt;
  
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>A code block can be empty:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
```
.
&lt;pre&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Fences can be indented.  If the opening fence is indented,
content lines will have equivalent opening indentation removed,
if present:</p> <div class="language-example extra-class"><pre class="language-text"><code> ```
 aaa
aaa
```
.
&lt;pre&gt;&lt;code&gt;aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>  ```
aaa
  aaa
aaa
  ```
.
&lt;pre&gt;&lt;code&gt;aaa
aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>   ```
   aaa
    aaa
  aaa
   ```
.
&lt;pre&gt;&lt;code&gt;aaa
 aaa
aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Four spaces indentation produces an indented code block:</p> <div class="language-example extra-class"><pre class="language-text"><code>    ```
    aaa
    ```
.
&lt;pre&gt;&lt;code&gt;```
aaa
```
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Closing fences may be indented by 0-3 spaces, and their indentation
need not match that of the opening fence:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
aaa
  ```
.
&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>   ```
aaa
  ```
.
&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>This is not a closing fence, because it is indented 4 spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
aaa
    ```
.
&lt;pre&gt;&lt;code&gt;aaa
    ```
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Code fences (opening and closing) cannot contain internal spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>``` ```
aaa
.
&lt;p&gt;&lt;code&gt;&lt;/code&gt;
aaa&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>~~~~~~
aaa
~~~ ~~
.
&lt;pre&gt;&lt;code&gt;aaa
~~~ ~~
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>Fenced code blocks can interrupt paragraphs, and can be followed
directly by paragraphs, without a blank line between:</p> <div class="language-example extra-class"><pre class="language-text"><code>foo
```
bar
```
baz
.
&lt;p&gt;foo&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;baz&lt;/p&gt;
</code></pre></div><p>Other blocks can also occur before and after fenced code blocks
without an intervening blank line:</p> <div class="language-example extra-class"><pre class="language-text"><code>foo
---
~~~
bar
~~~
# baz
.
&lt;h2&gt;foo&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;bar
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;baz&lt;/h1&gt;
</code></pre></div><p>An [info string] can be provided after the opening code fence.
Opening and closing spaces will be stripped, and the first word, prefixed
with <code>language-</code>, is used as the value for the <code>class</code> attribute of the
<code>code</code> element within the enclosing <code>pre</code> element.</p> <div class="language-example extra-class"><pre class="language-text"><code>```ruby
def foo(x)
  return 3
end
```
.
&lt;pre&gt;&lt;code class=&quot;language-ruby&quot;&gt;def foo(x)
  return 3
end
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>~~~~    ruby startline=3 $%@#$
def foo(x)
  return 3
end
~~~~~~~
.
&lt;pre&gt;&lt;code class=&quot;language-ruby&quot;&gt;def foo(x)
  return 3
end
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>````;
````
.
&lt;pre&gt;&lt;code class=&quot;language-;&quot;&gt;&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>[Info strings] for backtick code blocks cannot contain backticks:</p> <div class="language-example extra-class"><pre class="language-text"><code>``` aa ```
foo
.
&lt;p&gt;&lt;code&gt;aa&lt;/code&gt;
foo&lt;/p&gt;
</code></pre></div><p>Closing code fences cannot have [info strings]:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
``` aaa
```
.
&lt;pre&gt;&lt;code&gt;``` aaa
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><h2 id="html-blocks"><a href="#html-blocks" aria-hidden="true" class="header-anchor">#</a> HTML blocks</h2> <p>An <a href="@">HTML block</a> is a group of lines that is treated
as raw HTML (and will not be escaped in HTML output).</p> <p>There are seven kinds of [HTML block], which can be defined
by their start and end conditions.  The block begins with a line that
meets a <a href="@">start condition</a> (after up to three spaces
optional indentation).  It ends with the first subsequent line that
meets a matching <a href="@">end condition</a>, or the last line of
the document or other <a href="#container-blocks">container block</a>), if no
line is encountered that meets the [end condition].  If the first line
meets both the [start condition] and the [end condition], the block
will contain just that line.</p> <ol><li><p><strong>Start condition:</strong>  line begins with the string <code>&lt;script</code>,
<code>&lt;pre</code>, or <code>&lt;style</code> (case-insensitive), followed by whitespace,
the string <code>&gt;</code>, or the end of the line.<br> <strong>End condition:</strong>  line contains an end tag
<code>&lt;/script&gt;</code>, <code>&lt;/pre&gt;</code>, or <code>&lt;/style&gt;</code> (case-insensitive; it
need not match the start tag).</p></li> <li><p><strong>Start condition:</strong> line begins with the string <code>&lt;!--</code>.<br> <strong>End condition:</strong>  line contains the string <code>--&gt;</code>.</p></li> <li><p><strong>Start condition:</strong> line begins with the string <code>&lt;?</code>.<br> <strong>End condition:</strong> line contains the string <code>?&gt;</code>.</p></li> <li><p><strong>Start condition:</strong> line begins with the string <code>&lt;!</code>
followed by an uppercase ASCII letter.<br> <strong>End condition:</strong> line contains the character <code>&gt;</code>.</p></li> <li><p><strong>Start condition:</strong>  line begins with the string
<code>&lt;![CDATA[</code>.<br> <strong>End condition:</strong> line contains the string <code>]]&gt;</code>.</p></li> <li><p><strong>Start condition:</strong> line begins the string <code>&lt;</code> or <code>&lt;/</code>
followed by one of the strings (case-insensitive) <code>address</code>,
<code>article</code>, <code>aside</code>, <code>base</code>, <code>basefont</code>, <code>blockquote</code>, <code>body</code>,
<code>caption</code>, <code>center</code>, <code>col</code>, <code>colgroup</code>, <code>dd</code>, <code>details</code>, <code>dialog</code>,
<code>dir</code>, <code>div</code>, <code>dl</code>, <code>dt</code>, <code>fieldset</code>, <code>figcaption</code>, <code>figure</code>,
<code>footer</code>, <code>form</code>, <code>frame</code>, <code>frameset</code>,
<code>h1</code>, <code>h2</code>, <code>h3</code>, <code>h4</code>, <code>h5</code>, <code>h6</code>, <code>head</code>, <code>header</code>, <code>hr</code>,
<code>html</code>, <code>iframe</code>, <code>legend</code>, <code>li</code>, <code>link</code>, <code>main</code>, <code>menu</code>, <code>menuitem</code>,
<code>nav</code>, <code>noframes</code>, <code>ol</code>, <code>optgroup</code>, <code>option</code>, <code>p</code>, <code>param</code>,
<code>section</code>, <code>source</code>, <code>summary</code>, <code>table</code>, <code>tbody</code>, <code>td</code>,
<code>tfoot</code>, <code>th</code>, <code>thead</code>, <code>title</code>, <code>tr</code>, <code>track</code>, <code>ul</code>, followed
by [whitespace], the end of the line, the string <code>&gt;</code>, or
the string <code>/&gt;</code>.<br> <strong>End condition:</strong> line is followed by a [blank line].</p></li> <li><p><strong>Start condition:</strong>  line begins with a complete [open tag]
or [closing tag] (with any [tag name] other than <code>script</code>,
<code>style</code>, or <code>pre</code>) followed only by [whitespace]
or the end of the line.<br> <strong>End condition:</strong> line is followed by a [blank line].</p></li></ol> <p>HTML blocks continue until they are closed by their appropriate
[end condition], or the last line of the document or other <a href="#container-blocks">container
block</a>.  This means any HTML <strong>within an HTML
block</strong> that might otherwise be recognised as a start condition will
be ignored by the parser and passed through as-is, without changing
the parser's state.</p> <p>For instance, <code>&lt;pre&gt;</code> within a HTML block started by <code>&lt;table&gt;</code> will not affect
the parser state; as the HTML block was started in by start condition 6, it
will end at any blank line. This can be surprising:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;table&gt;&lt;tr&gt;&lt;td&gt;
&lt;pre&gt;
**Hello**,

_world_.
&lt;/pre&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
.
&lt;table&gt;&lt;tr&gt;&lt;td&gt;
&lt;pre&gt;
**Hello**,
&lt;p&gt;&lt;em&gt;world&lt;/em&gt;.
&lt;/pre&gt;&lt;/p&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
</code></pre></div><p>In this case, the HTML block is terminated by the newline — the <code>**Hello**</code>
text remains verbatim — and regular parsing resumes, with a paragraph,
emphasised <code>world</code> and inline and block HTML following.</p> <p>All types of [HTML blocks] except type 7 may interrupt
a paragraph.  Blocks of type 7 may not interrupt a paragraph.
(This restriction is intended to prevent unwanted interpretation
of long tags inside a wrapped paragraph as starting HTML blocks.)</p> <p>Some simple examples follow.  Here are some basic HTML blocks
of type 6:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;
           hi
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

okay.
.
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;
           hi
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;okay.&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code> &lt;div&gt;
  *hello*
         &lt;foo&gt;&lt;a&gt;
.
 &lt;div&gt;
  *hello*
         &lt;foo&gt;&lt;a&gt;
</code></pre></div><p>A block can also start with a closing tag:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;/div&gt;
*foo*
.
&lt;/div&gt;
*foo*
</code></pre></div><p>Here we have two HTML blocks with a Markdown paragraph between them:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;DIV CLASS=&quot;foo&quot;&gt;

*Markdown*

&lt;/DIV&gt;
.
&lt;DIV CLASS=&quot;foo&quot;&gt;
&lt;p&gt;&lt;em&gt;Markdown&lt;/em&gt;&lt;/p&gt;
&lt;/DIV&gt;
</code></pre></div><p>The tag on the first line can be partial, as long
as it is split where there would be whitespace:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div id=&quot;foo&quot;
  class=&quot;bar&quot;&gt;
&lt;/div&gt;
.
&lt;div id=&quot;foo&quot;
  class=&quot;bar&quot;&gt;
&lt;/div&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;div id=&quot;foo&quot; class=&quot;bar
  baz&quot;&gt;
&lt;/div&gt;
.
&lt;div id=&quot;foo&quot; class=&quot;bar
  baz&quot;&gt;
&lt;/div&gt;
</code></pre></div><p>An open tag need not be closed:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;
*foo*

*bar*
.
&lt;div&gt;
*foo*
&lt;p&gt;&lt;em&gt;bar&lt;/em&gt;&lt;/p&gt;
</code></pre></div><p>A partial tag need not even be completed (garbage
in, garbage out):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div id=&quot;foo&quot;
*hi*
.
&lt;div id=&quot;foo&quot;
*hi*
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;div class
foo
.
&lt;div class
foo
</code></pre></div><p>The initial tag doesn't even need to be a valid
tag, as long as it starts like one:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div *???-&amp;&amp;&amp;-&lt;---
*foo*
.
&lt;div *???-&amp;&amp;&amp;-&lt;---
*foo*
</code></pre></div><p>In type 6 blocks, the initial tag need not be on a line by
itself:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;&lt;a href=&quot;bar&quot;&gt;*foo*&lt;/a&gt;&lt;/div&gt;
.
&lt;div&gt;&lt;a href=&quot;bar&quot;&gt;*foo*&lt;/a&gt;&lt;/div&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;table&gt;&lt;tr&gt;&lt;td&gt;
foo
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
.
&lt;table&gt;&lt;tr&gt;&lt;td&gt;
foo
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
</code></pre></div><p>Everything until the next blank line or end of document
gets included in the HTML block.  So, in the following
example, what looks like a Markdown code block
is actually part of the HTML block, which continues until a blank
line or the end of the document is reached:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;&lt;/div&gt;
``` c
int x = 33;
```
.
&lt;div&gt;&lt;/div&gt;
``` c
int x = 33;
```
</code></pre></div><p>To start an [HTML block] with a tag that is <em>not</em> in the
list of block-level tags in (6), you must put the tag by
itself on the first line (and it must be complete):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;a href=&quot;foo&quot;&gt;
*bar*
&lt;/a&gt;
.
&lt;a href=&quot;foo&quot;&gt;
*bar*
&lt;/a&gt;
</code></pre></div><p>In type 7 blocks, the [tag name] can be anything:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;Warning&gt;
*bar*
&lt;/Warning&gt;
.
&lt;Warning&gt;
*bar*
&lt;/Warning&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;i class=&quot;foo&quot;&gt;
*bar*
&lt;/i&gt;
.
&lt;i class=&quot;foo&quot;&gt;
*bar*
&lt;/i&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;/ins&gt;
*bar*
.
&lt;/ins&gt;
*bar*
</code></pre></div><p>These rules are designed to allow us to work with tags that
can function as either block-level or inline-level tags.
The <code>&lt;del&gt;</code> tag is a nice example.  We can surround content with
<code>&lt;del&gt;</code> tags in three different ways.  In this case, we get a raw
HTML block, because the <code>&lt;del&gt;</code> tag is on a line by itself:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;del&gt;
*foo*
&lt;/del&gt;
.
&lt;del&gt;
*foo*
&lt;/del&gt;
</code></pre></div><p>In this case, we get a raw HTML block that just includes
the <code>&lt;del&gt;</code> tag (because it ends with the following blank
line).  So the contents get interpreted as CommonMark:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;del&gt;

*foo*

&lt;/del&gt;
.
&lt;del&gt;
&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
&lt;/del&gt;
</code></pre></div><p>Finally, in this case, the <code>&lt;del&gt;</code> tags are interpreted
as [raw HTML] <em>inside</em> the CommonMark paragraph.  (Because
the tag is not on a line by itself, we get inline HTML
rather than an [HTML block].)</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;del&gt;*foo*&lt;/del&gt;
.
&lt;p&gt;&lt;del&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/del&gt;&lt;/p&gt;
</code></pre></div><p>HTML tags designed to contain literal content
(<code>script</code>, <code>style</code>, <code>pre</code>), comments, processing instructions,
and declarations are treated somewhat differently.
Instead of ending at the first blank line, these blocks
end at the first line containing a corresponding end tag.
As a result, these blocks can contain blank lines:</p> <p>A pre tag (type 1):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;pre language=&quot;haskell&quot;&gt;&lt;code&gt;
import Text.HTML.TagSoup

main :: IO ()
main = print $ parseTags tags
&lt;/code&gt;&lt;/pre&gt;
okay
.
&lt;pre language=&quot;haskell&quot;&gt;&lt;code&gt;
import Text.HTML.TagSoup

main :: IO ()
main = print $ parseTags tags
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>A script tag (type 1):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;script type=&quot;text/javascript&quot;&gt;
// JavaScript example

document.getElementById(&quot;demo&quot;).innerHTML = &quot;Hello JavaScript!&quot;;
&lt;/script&gt;
okay
.
&lt;script type=&quot;text/javascript&quot;&gt;
// JavaScript example

document.getElementById(&quot;demo&quot;).innerHTML = &quot;Hello JavaScript!&quot;;
&lt;/script&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>A style tag (type 1):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;style
  type=&quot;text/css&quot;&gt;
h1 {color:red;}

p {color:blue;}
&lt;/style&gt;
okay
.
&lt;style
  type=&quot;text/css&quot;&gt;
h1 {color:red;}

p {color:blue;}
&lt;/style&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>If there is no matching end tag, the block will end at the
end of the document (or the enclosing [block quote][block quotes]
or [list item][list items]):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;style
  type=&quot;text/css&quot;&gt;

foo
.
&lt;style
  type=&quot;text/css&quot;&gt;

foo
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&gt; &lt;div&gt;
&gt; foo

bar
.
&lt;blockquote&gt;
&lt;div&gt;
foo
&lt;/blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>- &lt;div&gt;
- foo
.
&lt;ul&gt;
&lt;li&gt;
&lt;div&gt;
&lt;/li&gt;
&lt;li&gt;foo&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><p>The end tag can occur on the same line as the start tag:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;style&gt;p{color:red;}&lt;/style&gt;
*foo*
.
&lt;style&gt;p{color:red;}&lt;/style&gt;
&lt;p&gt;&lt;em&gt;foo&lt;/em&gt;&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;!-- foo --&gt;*bar*
*baz*
.
&lt;!-- foo --&gt;*bar*
&lt;p&gt;&lt;em&gt;baz&lt;/em&gt;&lt;/p&gt;
</code></pre></div><p>Note that anything on the last line after the
end tag will be included in the [HTML block]:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;script&gt;
foo
&lt;/script&gt;1. *bar*
.
&lt;script&gt;
foo
&lt;/script&gt;1. *bar*
</code></pre></div><p>A comment (type 2):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;!-- Foo

bar
   baz --&gt;
okay
.
&lt;!-- Foo

bar
   baz --&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>A processing instruction (type 3):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;?php

  echo '&gt;';

?&gt;
okay
.
&lt;?php

  echo '&gt;';

?&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>A declaration (type 4):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
.
&lt;!DOCTYPE html&gt;
</code></pre></div><p>CDATA (type 5):</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;![CDATA[
function matchwo(a,b)
{
  if (a &lt; b &amp;&amp; a &lt; 0) then {
    return 1;

  } else {

    return 0;
  }
}
]]&gt;
okay
.
&lt;![CDATA[
function matchwo(a,b)
{
  if (a &lt; b &amp;&amp; a &lt; 0) then {
    return 1;

  } else {

    return 0;
  }
}
]]&gt;
&lt;p&gt;okay&lt;/p&gt;
</code></pre></div><p>The opening tag can be indented 1-3 spaces, but not 4:</p> <div class="language-example extra-class"><pre class="language-text"><code>  &lt;!-- foo --&gt;

    &lt;!-- foo --&gt;
.
  &lt;!-- foo --&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;!-- foo --&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>  &lt;div&gt;

    &lt;div&gt;
.
  &lt;div&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</code></pre></div><p>An HTML block of types 1--6 can interrupt a paragraph, and need not be
preceded by a blank line.</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
&lt;div&gt;
bar
&lt;/div&gt;
.
&lt;p&gt;Foo&lt;/p&gt;
&lt;div&gt;
bar
&lt;/div&gt;
</code></pre></div><p>However, a following blank line is needed, except at the end of
a document, and except for blocks of types 1--5, [above][HTML
block]:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;
bar
&lt;/div&gt;
*foo*
.
&lt;div&gt;
bar
&lt;/div&gt;
*foo*
</code></pre></div><p>HTML blocks of type 7 cannot interrupt a paragraph:</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
&lt;a href=&quot;bar&quot;&gt;
baz
.
&lt;p&gt;Foo
&lt;a href=&quot;bar&quot;&gt;
baz&lt;/p&gt;
</code></pre></div><p>This rule differs from John Gruber's original Markdown syntax
specification, which says:</p> <blockquote><p>The only restrictions are that block-level HTML elements —
e.g. <code>&lt;div&gt;</code>, <code>&lt;table&gt;</code>, <code>&lt;pre&gt;</code>, <code>&lt;p&gt;</code>, etc. — must be separated from
surrounding content by blank lines, and the start and end tags of the
block should not be indented with tabs or spaces.</p></blockquote> <p>In some ways Gruber's rule is more restrictive than the one given
here:</p> <ul><li>It requires that an HTML block be preceded by a blank line.</li> <li>It does not allow the start tag to be indented.</li> <li>It requires a matching end tag, which it also does not allow to
be indented.</li></ul> <p>Most Markdown implementations (including some of Gruber's own) do not
respect all of these restrictions.</p> <p>There is one respect, however, in which Gruber's rule is more liberal
than the one given here, since it allows blank lines to occur inside
an HTML block.  There are two reasons for disallowing them here.
First, it removes the need to parse balanced tags, which is
expensive and can require backtracking from the end of the document
if no matching end tag is found. Second, it provides a very simple
and flexible way of including Markdown content inside HTML tags:
simply separate the Markdown from the HTML using blank lines:</p> <p>Compare:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;

*Emphasized* text.

&lt;/div&gt;
.
&lt;div&gt;
&lt;p&gt;&lt;em&gt;Emphasized&lt;/em&gt; text.&lt;/p&gt;
&lt;/div&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>&lt;div&gt;
*Emphasized* text.
&lt;/div&gt;
.
&lt;div&gt;
*Emphasized* text.
&lt;/div&gt;
</code></pre></div><p>Some Markdown implementations have adopted a convention of
interpreting content inside tags as text if the open tag has
the attribute <code>markdown=1</code>.  The rule given above seems a simpler and
more elegant way of achieving the same expressive power, which is also
much simpler to parse.</p> <p>The main potential drawback is that one can no longer paste HTML
blocks into Markdown documents with 100% reliability.  However,
<em>in most cases</em> this will work fine, because the blank lines in
HTML are usually followed by HTML block tags.  For example:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;table&gt;

&lt;tr&gt;

&lt;td&gt;
Hi
&lt;/td&gt;

&lt;/tr&gt;

&lt;/table&gt;
.
&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;
Hi
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</code></pre></div><p>There are problems, however, if the inner tags are indented
<em>and</em> separated by spaces, as then they will be interpreted as
an indented code block:</p> <div class="language-example extra-class"><pre class="language-text"><code>&lt;table&gt;

  &lt;tr&gt;

    &lt;td&gt;
      Hi
    &lt;/td&gt;

  &lt;/tr&gt;

&lt;/table&gt;
.
&lt;table&gt;
  &lt;tr&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;td&amp;gt;
  Hi
&amp;lt;/td&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre></div><p>Fortunately, blank lines are usually not necessary and can be
deleted.  The exception is inside <code>&lt;pre&gt;</code> tags, but as described
[above][HTML blocks], raw HTML blocks starting with <code>&lt;pre&gt;</code> <em>can</em> contain blank lines.</p> <h2 id="link-reference-definitions"><a href="#link-reference-definitions" aria-hidden="true" class="header-anchor">#</a> Link reference definitions</h2> <p>A <a href="@">link reference definition</a>
consists of a [link label], indented up to three spaces, followed
by a colon (<code>:</code>), optional [whitespace] (including up to one
[line ending]), a [link destination],
optional [whitespace] (including up to one
[line ending]), and an optional [link
title], which if it is present must be separated
from the [link destination] by [whitespace].
No further [non-whitespace characters] may occur on the line.</p> <p>A [link reference definition]
does not correspond to a structural element of a document.  Instead, it
defines a label which can be used in [reference links]
and reference-style [images] elsewhere in the document.  [Link
reference definitions] can come either before or after the links that use
them.</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url &quot;title&quot;

[foo]
.
&lt;p&gt;&lt;a href=&quot;/url&quot; title=&quot;title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>   [foo]: 
      /url  
           'the title'  

[foo]
.
&lt;p&gt;&lt;a href=&quot;/url&quot; title=&quot;the title&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>[Foo*bar\]]:my_(url) 'title (with parens)'

[Foo*bar\]]
.
&lt;p&gt;&lt;a href=&quot;my_(url)&quot; title=&quot;title (with parens)&quot;&gt;Foo*bar]&lt;/a&gt;&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>[Foo bar]:
&lt;my url&gt;
'title'

[Foo bar]
.
&lt;p&gt;&lt;a href=&quot;my%20url&quot; title=&quot;title&quot;&gt;Foo bar&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>The title may extend over multiple lines:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url '
title
line1
line2
'

[foo]
.
&lt;p&gt;&lt;a href=&quot;/url&quot; title=&quot;
title
line1
line2
&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>However, it may not contain a [blank line]:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url 'title

with blank line'

[foo]
.
&lt;p&gt;[foo]: /url 'title&lt;/p&gt;
&lt;p&gt;with blank line'&lt;/p&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre></div><p>The title may be omitted:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]:
/url

[foo]
.
&lt;p&gt;&lt;a href=&quot;/url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>The link destination may not be omitted:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]:

[foo]
.
&lt;p&gt;[foo]:&lt;/p&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre></div><p>Both title and destination can contain backslash escapes
and literal backslashes:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url\bar\*baz &quot;foo\&quot;bar\baz&quot;

[foo]
.
&lt;p&gt;&lt;a href=&quot;/url%5Cbar*baz&quot; title=&quot;foo&amp;quot;bar\baz&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>A link can come before its corresponding definition:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]

[foo]: url
.
&lt;p&gt;&lt;a href=&quot;url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>If there are several matching definitions, the first one takes
precedence:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]

[foo]: first
[foo]: second
.
&lt;p&gt;&lt;a href=&quot;first&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>As noted in the section on [Links], matching of labels is
case-insensitive (see [matches]).</p> <div class="language-example extra-class"><pre class="language-text"><code>[FOO]: /url

[Foo]
.
&lt;p&gt;&lt;a href=&quot;/url&quot;&gt;Foo&lt;/a&gt;&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>[ΑΓΩ]: /φου

[αγω]
.
&lt;p&gt;&lt;a href=&quot;/%CF%86%CE%BF%CF%85&quot;&gt;αγω&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>Here is a link reference definition with no corresponding link.
It contributes nothing to the document.</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url
.
</code></pre></div><p>Here is another one:</p> <div class="language-example extra-class"><pre class="language-text"><code>[
foo
]: /url
bar
.
&lt;p&gt;bar&lt;/p&gt;
</code></pre></div><p>This is not a link reference definition, because there are
[non-whitespace characters] after the title:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url &quot;title&quot; ok
.
&lt;p&gt;[foo]: /url &amp;quot;title&amp;quot; ok&lt;/p&gt;
</code></pre></div><p>This is a link reference definition, but it has no title:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /url
&quot;title&quot; ok
.
&lt;p&gt;&amp;quot;title&amp;quot; ok&lt;/p&gt;
</code></pre></div><p>This is not a link reference definition, because it is indented
four spaces:</p> <div class="language-example extra-class"><pre class="language-text"><code>    [foo]: /url &quot;title&quot;

[foo]
.
&lt;pre&gt;&lt;code&gt;[foo]: /url &amp;quot;title&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre></div><p>This is not a link reference definition, because it occurs inside
a code block:</p> <div class="language-example extra-class"><pre class="language-text"><code>```
[foo]: /url
```

[foo]
.
&lt;pre&gt;&lt;code&gt;[foo]: /url
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[foo]&lt;/p&gt;
</code></pre></div><p>A [link reference definition] cannot interrupt a paragraph.</p> <div class="language-example extra-class"><pre class="language-text"><code>Foo
[bar]: /baz

[bar]
.
&lt;p&gt;Foo
[bar]: /baz&lt;/p&gt;
&lt;p&gt;[bar]&lt;/p&gt;
</code></pre></div><p>However, it can directly follow other block elements, such as headings
and thematic breaks, and it need not be followed by a blank line.</p> <div class="language-example extra-class"><pre class="language-text"><code># [Foo]
[foo]: /url
&gt; bar
.
&lt;h1&gt;&lt;a href=&quot;/url&quot;&gt;Foo&lt;/a&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;bar&lt;/p&gt;
&lt;/blockquote&gt;
</code></pre></div><p>Several [link reference definitions]
can occur one after another, without intervening blank lines.</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]: /foo-url &quot;foo&quot;
[bar]: /bar-url
  &quot;bar&quot;
[baz]: /baz-url

[foo],
[bar],
[baz]
.
&lt;p&gt;&lt;a href=&quot;/foo-url&quot; title=&quot;foo&quot;&gt;foo&lt;/a&gt;,
&lt;a href=&quot;/bar-url&quot; title=&quot;bar&quot;&gt;bar&lt;/a&gt;,
&lt;a href=&quot;/baz-url&quot;&gt;baz&lt;/a&gt;&lt;/p&gt;
</code></pre></div><p>[Link reference definitions] can occur
inside block containers, like lists and block quotations.  They
affect the entire document, not just the container in which they
are defined:</p> <div class="language-example extra-class"><pre class="language-text"><code>[foo]

&gt; [foo]: /url
.
&lt;p&gt;&lt;a href=&quot;/url&quot;&gt;foo&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;/blockquote&gt;
</code></pre></div><h2 id="paragraphs"><a href="#paragraphs" aria-hidden="true" class="header-anchor">#</a> Paragraphs</h2> <p>A sequence of non-blank lines that cannot be interpreted as other
kinds of blocks forms a <a href="@">paragraph</a>.
The contents of the paragraph are the result of parsing the
paragraph's raw content as inlines.  The paragraph's raw content
is formed by concatenating the lines and removing initial and final
[whitespace].</p> <p>A simple example with two paragraphs:</p> <div class="language-example extra-class"><pre class="language-text"><code>aaa

bbb
.
&lt;p&gt;aaa&lt;/p&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre></div><p>Paragraphs can contain multiple lines, but no blank lines:</p> <div class="language-example extra-class"><pre class="language-text"><code>aaa
bbb

ccc
ddd
.
&lt;p&gt;aaa
bbb&lt;/p&gt;
&lt;p&gt;ccc
ddd&lt;/p&gt;
</code></pre></div><p>Multiple blank lines between paragraph have no effect:</p> <div class="language-example extra-class"><pre class="language-text"><code>aaa


bbb
.
&lt;p&gt;aaa&lt;/p&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre></div><p>Leading spaces are skipped:</p> <div class="language-example extra-class"><pre class="language-text"><code>  aaa
 bbb
.
&lt;p&gt;aaa
bbb&lt;/p&gt;
</code></pre></div><p>Lines after the first may be indented any amount, since indented
code blocks cannot interrupt paragraphs.</p> <div class="language-example extra-class"><pre class="language-text"><code>aaa
             bbb
                                       ccc
.
&lt;p&gt;aaa
bbb
ccc&lt;/p&gt;
</code></pre></div><p>However, the first line may be indented at most three spaces,
or an indented code block will be triggered:</p> <div class="language-example extra-class"><pre class="language-text"><code>   aaa
bbb
.
&lt;p&gt;aaa
bbb&lt;/p&gt;
</code></pre></div><div class="language-example extra-class"><pre class="language-text"><code>    aaa
bbb
.
&lt;pre&gt;&lt;code&gt;aaa
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bbb&lt;/p&gt;
</code></pre></div><p>Final spaces are stripped before inline parsing, so a paragraph
that ends with two or more spaces will not end with a [hard line
break]:</p> <div class="language-example extra-class"><pre class="language-text"><code>aaa     
bbb     
.
&lt;p&gt;aaa&lt;br /&gt;
bbb&lt;/p&gt;
</code></pre></div><h2 id="blank-lines"><a href="#blank-lines" aria-hidden="true" class="header-anchor">#</a> Blank lines</h2> <p>[Blank lines] between block-level elements are ignored,
except for the role they play in determining whether a [list]
is [tight] or [loose].</p> <p>Blank lines at the beginning and end of the document are also ignored.</p> <div class="language-example extra-class"><pre class="language-text"><code>  

aaa
  

# aaa

  
.
&lt;p&gt;aaa&lt;/p&gt;
&lt;h1&gt;aaa&lt;/h1&gt;
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/commonmark-vuepress/3.Blocks_and_inlines.html" class="prev">
          3 Blocks and inlines
        </a></span> <span class="next"><a href="/commonmark-vuepress/5.Container_blocks.html">
          5 Container blocks
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/commonmark-vuepress/assets/js/7.accca9e3.js" defer></script><script src="/commonmark-vuepress/assets/js/app.66e8c4d4.js" defer></script>
  </body>
</html>
